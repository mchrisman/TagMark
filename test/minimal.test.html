<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test: Minimal</title>
  <script src="../lib/deep_proxy.js"></script>
  <script src="../lib/ActDown.js"></script>
  <script src="../lib/ActDown-ext-forms.js"></script>
  <script src="../src/tagmark.js"></script>
  <script src="./_harness.js"></script>
</head>
<body>

<tag-mark id="root">Hello</tag-mark>

<div id="test-results" data-status="pending"></div>

<script>
const nextTick = () => new Promise(r => setTimeout(r, 100));

Test.run("minimal", async t => {
  await nextTick();

  const root = document.querySelector("#root");
  console.log("root element:", root);
  console.log("root innerHTML:", root?.innerHTML);
  console.log("root childNodes:", root?.childNodes?.length);
  console.log("TagMark:", window.TagMark);
  console.log("ActDown:", window.ActDown);

  t.ok(root, "tag-mark element exists");
  t.ok(root?.textContent?.includes("Hello"), "Contains Hello");

  t.done();
});
</script>

</body>
</html>
